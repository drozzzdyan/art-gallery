document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".dropdown__content").forEach(e=>{new SimpleBar(e,{scrollbarMaxSize:24,autoHide:!1})});let e=document.querySelectorAll(".swiper");new Swiper(e[0],{direction:"horizontal",loop:!0,speed:2e3,autoplay:{delay:2e3}}),new Swiper(e[1],{direction:"horizontal",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets"},breakpoints:{1600:{slidesPerView:3,spaceBetween:50},1024:{slidesPerView:3,spaceBetween:27},576:{slidesPerView:2,spaceBetween:30},0:{slidesPerView:1,spaceBetween:30}}}),new Swiper(e[2],{direction:"horizontal",loop:!0,spaceBetween:50,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:3,breakpoints:{1600:{slidesPerView:3},1024:{slidesPerView:2},576:{slidesPerView:2,spaceBetween:40},0:{slidesPerView:1,spaceBetween:30}}});let t=document.querySelector(".choices");new Choices(t,{searchEnabled:!1,searchChoices:!1,renderChoiceLimit:3});let l=new Accordion(".epoch",{duration:300});l.open(0);let o=document.querySelectorAll(".art-trends__link"),s=document.querySelectorAll(".dropdown__content"),r=document.querySelectorAll(".simplebar-vertical"),a=document.querySelectorAll(".art-trends__arrow");function c(e){let t=setTimeout(()=>{e.classList.add("dropdown__content_hide"),clearTimeout(t)},300)}function i(e){for(let t=0;t<e;t++)s[t].classList.remove("dropdown__content_open"),r[t].classList.remove("simplebar-vertical_open"),a[t].classList.remove("art-trends__arrow_open"),c(s[t]);for(let l=e+1;l<o.length;l++)s[l].classList.remove("dropdown__content_open"),r[l].classList.remove("simplebar-vertical_open"),a[l].classList.remove("art-trends__arrow_open"),c(s[l])}i(o.length);for(let n=0;n<o.length;n++)o[n].addEventListener("click",()=>{s[n].classList.value.includes("dropdown__content_hide")?s[n].classList.remove("dropdown__content_hide"):c(s[n]),i(n);let e=setTimeout(()=>{s[n].classList.toggle("dropdown__content_open"),r[n].classList.toggle("simplebar-vertical_open"),a[n].classList.toggle("art-trends__arrow_open"),clearTimeout(e)},10)}),o[n].addEventListener("keydown",e=>{"Escape"===e.key&&i(o.length)});let d=document.querySelectorAll(".modal__close-btn"),p=document.querySelector(".modal"),m=document.querySelectorAll(".modal__item"),u=document.querySelectorAll(".slider__slide");function L(){document.body.parentNode.classList.remove("stop-scroll"),p.classList.add("modal_off"),m.forEach(e=>{e.classList.add("modal__item_off")});let e=setTimeout(()=>{p.classList.add("modal_hide"),m.forEach(e=>{e.classList.add("modal__item_hide")}),clearTimeout(e)},300)}m.forEach(e=>{e.classList.add("modal__item_hide"),e.classList.add("modal__item_off")}),p.classList.add("modal_hide"),p.classList.add("modal_off"),d.forEach(e=>{e.addEventListener("click",()=>{L()})}),p.addEventListener("click",()=>{flag=!0,L()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&L()});for(let h=0;h<u.length;h++)u[h].addEventListener("click",()=>{document.body.parentNode.classList.add("stop-scroll"),m[h].classList.remove("modal__item_hide"),p.classList.remove("modal_hide");let e=setTimeout(()=>{m[h].classList.remove("modal__item_off"),p.classList.remove("modal_off"),clearTimeout(e)},10)});let f=document.querySelectorAll(".catalog__btn"),$=document.querySelectorAll(".catalog__show"),v=document.querySelector(".catalog__show_empty");for(let g=0;g<f.length;g++)f[g].addEventListener("click",()=>{f.forEach(e=>{e.removeAttribute("disabled")}),f[g].setAttribute("disabled","disabled"),$.forEach(e=>{e.classList.add("catalog__show_off")});let e=document.getElementById(`author-${g}`),t=setTimeout(()=>{$.forEach(e=>{e.classList.add("catalog__show_hide")}),null===e?v.classList.remove("catalog__show_hide"):e.classList.remove("catalog__show_hide");let l=setTimeout(()=>{null===e?v.classList.remove("catalog__show_off"):e.classList.remove("catalog__show_off"),clearTimeout(l)},10);clearTimeout(t)},300)});let w=document.querySelector(".callback__form-btn"),b=document.querySelectorAll(".callback__form-error"),y=document.querySelectorAll(".callback__form-input");function E(){let e=new ymaps.Map("map",{center:[55.76027392,37.61464719],zoom:14}),t=new ymaps.Placemark([55.76027392,37.61464719],{},{iconLayout:"default#image",iconImageHref:"../img/location.svg",iconImageSize:[20,20]});e.geoObjects.add(t)}b.forEach(e=>{e.classList.add("callback__form-error_hide")}),w.addEventListener("click",e=>{let t=!0,l=y[0].value.trim();l.length<2?(mistakes=!1,b[0].classList.remove("callback__form-error_hide"),y[0].classList.add("callback__form-input_error")):(b[0].classList.add("callback__form-error_hide"),y[0].classList.remove("callback__form-input_error"));let o=y[1].value.trim().split(""),s=!0;o.forEach(e=>{s=s&&"0123456789".includes(e)}),(s=o.length>10&&!!s)?(b[1].classList.add("callback__form-error_hide"),y[1].classList.remove("callback__form-input_error")):(b[1].classList.remove("callback__form-error_hide"),y[1].classList.add("callback__form-input_error")),t&&s?y.submit():e.preventDefault()}),ymaps.ready(E);let k=document.querySelector(".burger"),_=document.querySelector(".menu");document.querySelector(".header__login");let S=document.querySelectorAll(".nav-list__link");function q(){k.classList.toggle("burger_close"),_.classList.toggle("menu_open"),document.body.parentNode.classList.toggle("stop-scroll"),document.body.classList.toggle("stop-scroll")}function A(){k.classList.remove("burger_close"),_.classList.remove("menu_open"),document.body.parentNode.classList.remove("stop-scroll"),document.body.classList.remove("stop-scroll")}k.addEventListener("click",()=>{q()}),S.forEach(e=>{e.addEventListener("click",()=>{A()})});let x=document.querySelector(".search-btn"),P=document.querySelector(".search");x.addEventListener("click",()=>{P.classList.toggle("search_open"),x.classList.toggle("search-btn_close")});let B=document.querySelector(".callback__form-btn");window.innerWidth<=768&&(B.textContent="Заказать");let V=document.querySelectorAll(".projects__tooltip"),z=document.querySelectorAll(".projects__tooltip-content");function C(){for(let e=0;e<V.length;e++){let t=V[e].getBoundingClientRect().x,l=window.innerWidth-t;l<264?z[e].style.left=`-${264-l+15}px`:t<132?z[e].style.left="0px":z[e].style.left="-119px",z[e].style.width="264px"}}C(),window.addEventListener("resize",()=>{C()})});