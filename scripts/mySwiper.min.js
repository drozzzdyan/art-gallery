const slider=document.querySelector(".slider"),sliderCounter=document.querySelector(".slider__counter "),slides=document.querySelectorAll(".slider__slide"),btnLeft=document.querySelector(".slider__btn_previos"),btnRight=document.querySelector(".slider__btn_next");function checkWindow(){let e=window.innerWidth;return e>1274?(slider.dataset.items=3,3):e>600?(slider.dataset.items=2,2):(slider.dataset.items=1,1)}btnLeft.setAttribute("disabled","disabled");const ANIMATION_DURATION=400,allSlides=slides.length;let countItemsPage=checkWindow(),lastPage=Math.floor(allSlides/countItemsPage);function renderSlides(){lastPage=Math.floor(allSlides/(countItemsPage=checkWindow()));for(let e=0;e<allSlides;e++)slides[e].classList.add(`slider__slide_${e+1}`),slides[e].classList.remove("slide-hide"),slides[e].classList.remove("slide-off"),slides[e].classList.remove("slide-on");for(let t=countItemsPage;t<allSlides;t++)slides[t].classList.add("slide-hide")}function closePage(e){for(let t=0;t<countItemsPage;t++){slides[t+e*countItemsPage].classList.remove("slide-on"),slides[t+e*countItemsPage].classList.add("slide-off");let s=setTimeout(()=>{slides[t+e*countItemsPage].classList.add("slide-hide"),clearTimeout(s)},300)}}function openPage(e){for(let t=0;t<countItemsPage;t++){slides[t+e*countItemsPage].classList.remove("slide-off"),slides[t+e*countItemsPage].classList.add("slide-on");let s=setTimeout(()=>{slides[t+e*countItemsPage].classList.remove("slide-hide"),clearTimeout(s)},400)}}renderSlides();let page=0;sliderCounter.textContent=`${page+1} / ${lastPage}`,btnRight.addEventListener("click",()=>{page<lastPage-1&&(closePage(page),openPage(++page),sliderCounter.textContent=`${page+1} / ${lastPage}`),btnLeft.removeAttribute("disabled"),page+1===lastPage&&btnRight.setAttribute("disabled","disabled")}),btnLeft.addEventListener("click",()=>{page>0&&(closePage(page),openPage(--page),sliderCounter.textContent=`${page+1} / ${lastPage}`),btnRight.removeAttribute("disabled"),0===page&&btnLeft.setAttribute("disabled","disabled")}),window.addEventListener("resize",()=>{checkWindow(),renderSlides(),page=0,sliderCounter.textContent=`${page+1} / ${lastPage}`});